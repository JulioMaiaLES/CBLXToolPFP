{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class ThemeService {\n  constructor() {\n    this.ThemeSubject = new Subject();\n    this.userTheme = 'light';\n  }\n  get theme() {\n    return this.userTheme;\n  }\n  watchTheme() {\n    return this.ThemeSubject.asObservable();\n  }\n  toggleUserTheme() {\n    if (this.userTheme === 'light') {\n      this.setTheme('dark');\n    } else {\n      this.setTheme('light');\n    }\n  }\n  loadCurrentTheme() {\n    const inLocal = localStorage.getItem('theme');\n    if (inLocal) {\n      this.userTheme = inLocal;\n      this.setTheme(inLocal);\n      return inLocal;\n    }\n    const deviceMode = window.matchMedia('(prefers-color-scheme: dark)');\n    if (deviceMode.matches) {\n      this.userTheme = 'dark';\n      this.setTheme('dark');\n      return 'dark';\n    }\n    this.setTheme('light');\n    return 'light';\n  }\n  setTheme(theme) {\n    this.userTheme = theme;\n    localStorage.setItem('theme', theme);\n    const html = document.querySelector('html');\n    if (theme === 'light') {\n      html?.classList.remove('dark');\n    } else {\n      html?.classList.toggle('dark');\n    }\n  }\n  static #_ = this.ɵfac = function ThemeService_Factory(t) {\n    return new (t || ThemeService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ThemeService,\n    factory: ThemeService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["Subject","ThemeService","constructor","ThemeSubject","userTheme","theme","watchTheme","asObservable","toggleUserTheme","setTheme","loadCurrentTheme","inLocal","localStorage","getItem","deviceMode","window","matchMedia","matches","setItem","html","document","querySelector","classList","remove","toggle","_","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Julio\\Documents\\Projects\\CBLXToolPFP\\frontend\\src\\app\\services\\theme.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ThemeService {\r\n  ThemeSubject = new Subject<void>();\r\n\r\n  userTheme: 'light' | 'dark' = 'light';\r\n\r\n  get theme() {\r\n    return this.userTheme;\r\n  }\r\n\r\n  watchTheme() {\r\n    return this.ThemeSubject.asObservable();\r\n  }\r\n\r\n  toggleUserTheme() {\r\n    if (this.userTheme === 'light') {\r\n      this.setTheme('dark');\r\n    } else {\r\n      this.setTheme('light');\r\n    }\r\n  }\r\n\r\n  loadCurrentTheme() {\r\n    const inLocal = localStorage.getItem('theme') as 'light' | 'dark';\r\n    if (inLocal) {\r\n      this.userTheme = inLocal;\r\n      this.setTheme(inLocal);\r\n      return inLocal;\r\n    }\r\n\r\n    const deviceMode = window.matchMedia('(prefers-color-scheme: dark)');\r\n    if (deviceMode.matches) {\r\n      this.userTheme = 'dark';\r\n      this.setTheme('dark');\r\n      return 'dark';\r\n    }\r\n    this.setTheme('light');\r\n    return 'light';\r\n  }\r\n\r\n  setTheme(theme: 'light' | 'dark') {\r\n    this.userTheme = theme;\r\n    localStorage.setItem('theme', theme);\r\n    const html = document.querySelector('html');\r\n\r\n    if (theme === 'light') {\r\n      html?.classList.remove('dark');\r\n    } else {\r\n      html?.classList.toggle('dark');\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,MAAM;;AAK9B,OAAM,MAAOC,YAAY;EAHzBC,YAAA;IAIE,KAAAC,YAAY,GAAG,IAAIH,OAAO,EAAQ;IAElC,KAAAI,SAAS,GAAqB,OAAO;;EAErC,IAAIC,KAAKA,CAAA;IACP,OAAO,IAAI,CAACD,SAAS;EACvB;EAEAE,UAAUA,CAAA;IACR,OAAO,IAAI,CAACH,YAAY,CAACI,YAAY,EAAE;EACzC;EAEAC,eAAeA,CAAA;IACb,IAAI,IAAI,CAACJ,SAAS,KAAK,OAAO,EAAE;MAC9B,IAAI,CAACK,QAAQ,CAAC,MAAM,CAAC;KACtB,MAAM;MACL,IAAI,CAACA,QAAQ,CAAC,OAAO,CAAC;;EAE1B;EAEAC,gBAAgBA,CAAA;IACd,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAqB;IACjE,IAAIF,OAAO,EAAE;MACX,IAAI,CAACP,SAAS,GAAGO,OAAO;MACxB,IAAI,CAACF,QAAQ,CAACE,OAAO,CAAC;MACtB,OAAOA,OAAO;;IAGhB,MAAMG,UAAU,GAAGC,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC;IACpE,IAAIF,UAAU,CAACG,OAAO,EAAE;MACtB,IAAI,CAACb,SAAS,GAAG,MAAM;MACvB,IAAI,CAACK,QAAQ,CAAC,MAAM,CAAC;MACrB,OAAO,MAAM;;IAEf,IAAI,CAACA,QAAQ,CAAC,OAAO,CAAC;IACtB,OAAO,OAAO;EAChB;EAEAA,QAAQA,CAACJ,KAAuB;IAC9B,IAAI,CAACD,SAAS,GAAGC,KAAK;IACtBO,YAAY,CAACM,OAAO,CAAC,OAAO,EAAEb,KAAK,CAAC;IACpC,MAAMc,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAE3C,IAAIhB,KAAK,KAAK,OAAO,EAAE;MACrBc,IAAI,EAAEG,SAAS,CAACC,MAAM,CAAC,MAAM,CAAC;KAC/B,MAAM;MACLJ,IAAI,EAAEG,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;;EAElC;EAAC,QAAAC,CAAA,G;qBAjDUxB,YAAY;EAAA;EAAA,QAAAyB,EAAA,G;WAAZzB,YAAY;IAAA0B,OAAA,EAAZ1B,YAAY,CAAA2B,IAAA;IAAAC,UAAA,EAFX;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}
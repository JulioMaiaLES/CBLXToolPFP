{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../../../app/services/sidebar.service\";\nimport * as i3 from \"@app/services/act.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../../components/jornada/togglemenu/togglemenu.component\";\nimport * as i7 from \"../../components/jornada/menu/menu.component\";\nfunction ActComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ActComponent_div_22_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.adicionarLinha());\n    });\n    i0.ɵɵtext(3, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"textarea\", 19, 20);\n    i0.ɵɵlistener(\"input\", function ActComponent_div_22_Template_textarea_input_4_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.autoResize($event));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ActComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"img\", 22);\n    i0.ɵɵlistener(\"click\", function ActComponent_div_23_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const file_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.downloadFile(file_r9));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"p\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r1.getFileIcon(file_r9), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r9.name);\n  }\n}\nfunction ActComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"img\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const image_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r12.value, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class ActComponent {\n  constructor(dialog, dialogRef, sidebarService, actService) {\n    this.dialog = dialog;\n    this.dialogRef = dialogRef;\n    this.sidebarService = sidebarService;\n    this.actService = actService;\n    this.isMenuHidden = true;\n    this.textAreas = [''];\n    this.files = []; // No changes needed, already correctly typed\n    this.renderedFiles = []; // Properly typed with the interface defined\n    this.images = []; // No changes needed, correctly typed\n    this.fileReader = new FileReader(); // No changes needed, properly initialized\n    this.objectUrls = [];\n    this.actForm = new FormGroup({\n      image: new FormControl('', Validators.required),\n      file: new FormControl('', Validators.required),\n      text_input: new FormControl('', Validators.required)\n    });\n  }\n  toggleMenu() {\n    this.sidebarService.toggleSidebar(); // Delegate toggling to the SidebarService\n  }\n\n  adicionarLinha() {\n    this.textAreas.push('');\n  }\n  onFileSelected(event) {\n    const inputElement = event?.target;\n    if (inputElement && inputElement.files) {\n      const files = inputElement.files;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const renderType = this.determineRenderType(file);\n        const renderedFile = {\n          file,\n          renderType\n        };\n        if (renderType === 'pdf') {\n          renderedFile.downloadUrl = this.getFileUrl(file);\n        }\n        this.renderedFiles.push(renderedFile);\n      }\n    }\n  }\n  determineRenderType(file) {\n    if (file.type.includes('image')) {\n      return 'image';\n    } else if (file.type.includes('pdf')) {\n      return 'pdf';\n    } else {\n      return 'other';\n    }\n  }\n  getFileUrl(file) {\n    const url = URL.createObjectURL(file);\n    this.objectUrls.push(url); // Track URLs for cleanup\n    return url;\n  }\n  cleanupObjectUrls() {\n    this.objectUrls.forEach(url => URL.revokeObjectURL(url));\n    this.objectUrls = [];\n  }\n  downloadFile(file) {\n    const url = this.getFileUrl(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = file.name;\n    a.click();\n  }\n  handleKeyboardEvent(event) {\n    if (event.key === '/') {\n      clearTimeout(this.debounceTimer);\n      this.debounceTimer = setTimeout(() => this.openModal(), 300);\n    }\n  }\n  // Helper method to process files\n  processFiles(files) {\n    const fileArray = Array.from(files); // Convert FileList to an array once\n    fileArray.forEach(file => {\n      if (this.isImage(file)) {\n        this.imageRenderer(file); // Process image files\n      } else {\n        this.files.push(file); // Store non-image files in this.files\n      }\n    });\n    // Optional: Log the processed files or remove this in production\n    console.log('Non-image files:', this.files);\n  }\n  // Check if the file is an image based on its type\n  isImage(file) {\n    return file.type.startsWith('image/');\n  }\n  // Image rendering method\n  imageRenderer(file) {\n    this.fileReader.onload = () => {\n      this.images.push({\n        name: file.name,\n        value: this.fileReader.result // Store image as base64 string\n      });\n    };\n\n    this.fileReader.readAsDataURL(file); // Read the image file as a Data URL\n  }\n\n  openModal() {\n    import('@app/components/modal/modal.component').then(({\n      ModalComponent\n    }) => {\n      const dialogRef = this.dialog.open(ModalComponent, {\n        width: '250px'\n      });\n      dialogRef.afterClosed().subscribe(files => {\n        if (files && files.length > 0) {\n          this.processFiles(files); // Delegate file processing to a helper method\n        }\n      });\n    });\n  }\n\n  createAct(actData) {\n    this.actService.createEngage(actData).subscribe(response => {\n      console.log('Act created Successfully');\n    }, error => {\n      console.error('Error creating engage:', error);\n    });\n  }\n  getFileIcon(file) {\n    if (file.type.includes('pdf')) {\n      return '../../../assets/images/pdf.png';\n    } else if (file.type.includes('csv')) {\n      return '../../../assets/images/csv.png';\n    } else if (file.type.includes('ppt')) {\n      return '../../../assets/images/ppt.png';\n    } else if (file.type.includes('xls')) {\n      return '../../../assets/images/xls.png';\n    } else if (file.type.includes('doc') || file.type.includes('word')) {\n      return '../../../assets/images/doc.png';\n    } else {\n      return '../../../assets/images/file.png';\n    }\n  }\n  autoResize(event) {\n    const target = event.target;\n    // Reset height to auto to calculate new height\n    target.style.height = 'auto';\n    // Set new height based on scrollHeight\n    target.style.height = target.scrollHeight + 'px';\n    // Reset width to auto to calculate new width\n    target.style.width = 'auto';\n    // Set new width based on scrollWidth\n    target.style.width = target.scrollWidth + 'px';\n  }\n  static #_ = this.ɵfac = function ActComponent_Factory(t) {\n    return new (t || ActComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.SidebarService), i0.ɵɵdirectiveInject(i3.ActService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActComponent,\n    selectors: [[\"app-act\"]],\n    hostBindings: function ActComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown\", function ActComponent_keydown_HostBindingHandler($event) {\n          return ctx.handleKeyboardEvent($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 27,\n    vars: 3,\n    consts: [[1, \"tree\"], [1, \"toggle-menu\"], [\"routerLink\", \"/jornada\", 1, \"subir\"], [\"routerLink\", \"/perfil\"], [\"src\", \"../../../assets/images/perfil.png\", \"width\", \"20\", \"height\", \"20\"], [\"href\", \"#\"], [\"src\", \"../../../assets/images/menu.png\", \"width\", \"20\", \"height\", \"20\"], [\"src\", \"../../../assets/images/config.png\", \"width\", \"20\", \"height\", \"20\"], [1, \"act-container\"], [\"src\", \"../../../assets/images/act.jpeg\", 1, \"act-image\"], [1, \"act-title\"], [\"class\", \"container\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"archives\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"images\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/investigate\"], [1, \"investigate\"], [1, \"container\"], [1, \"input-wrapper\"], [\"mat-icon-button\", \"\", 1, \"add-button\", 3, \"click\"], [\"placeholder\", \"Digite '/' para op\\u00E7\\u00F5es\", 1, \"textArea\", 3, \"input\"], [\"textAreaRef\", \"\"], [1, \"archives\"], [1, \"file-icon\", 3, \"src\", \"click\"], [1, \"title-archive\"], [1, \"images\"], [3, \"src\"]],\n    template: function ActComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"header\")(2, \"div\", 0);\n        i0.ɵɵelement(3, \"app-togglemenu\", 1);\n        i0.ɵɵelementStart(4, \"a\", 2);\n        i0.ɵɵtext(5, \"Turismo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \" /Act \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ul\")(8, \"li\")(9, \"a\", 3);\n        i0.ɵɵelement(10, \"img\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"li\")(12, \"a\", 5);\n        i0.ɵɵelement(13, \"img\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"li\")(15, \"a\", 5);\n        i0.ɵɵelement(16, \"img\", 7);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(17, \"app-menu\");\n        i0.ɵɵelementStart(18, \"div\", 8);\n        i0.ɵɵelement(19, \"img\", 9);\n        i0.ɵɵelementStart(20, \"h1\", 10);\n        i0.ɵɵtext(21, \"Act\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(22, ActComponent_div_22_Template, 6, 0, \"div\", 11);\n        i0.ɵɵtemplate(23, ActComponent_div_23_Template, 4, 2, \"div\", 12);\n        i0.ɵɵtemplate(24, ActComponent_div_24_Template, 2, 1, \"div\", 13);\n        i0.ɵɵelementStart(25, \"a\", 14);\n        i0.ɵɵelement(26, \"button\", 15);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngForOf\", ctx.textAreas);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.files);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.images);\n      }\n    },\n    dependencies: [i4.NgForOf, i5.RouterLink, i6.TogglemenuComponent, i7.MenuComponent],\n    styles: [\"@charset \\\"UTF-8\\\";\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n  background-color: var(--main-color);\\n  min-height: 100vh;\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n  background-color: var(--main-color);\\n  color: white;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin: 0;\\n  position: relative;\\n  z-index: 1;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  margin: 0px 10px;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: white;\\n  text-decoration: none;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: #222121;\\n}\\nheader[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\nheader[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  display: flex;\\n  align-items: center;\\n}\\nheader[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n  display: inline-block;\\n}\\nheader[_ngcontent-%COMP%]   .subir[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  color: white;\\n  text-decoration: none;\\n}\\nheader[_ngcontent-%COMP%]   .subir[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  font-size: 40px;\\n  color: white;\\n  font-family: Roboto;\\n  font-weight: 450;\\n}\\n\\n.title-archive[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n  font-size: 14px;\\n}\\n\\n.button-archive[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n  background-color: rgb(1, 155, 158);\\n  border: 2px solid white;\\n  color: white;\\n  text-align: center;\\n  font-size: 14px;\\n  opacity: 0.6;\\n  transition: 0.3s;\\n  height: 30px;\\n  display: inline-block;\\n  text-decoration: none;\\n  cursor: pointer;\\n}\\n\\n.button-archive[_ngcontent-%COMP%]:hover {\\n  opacity: 1;\\n}\\n\\n.file-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  height: 60vh;\\n}\\n\\n.file-list[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: 10px; \\n\\n}\\n\\n.file-list[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0; \\n\\n}\\n\\n.file-icon[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 50px;\\n  margin-left: 100px;\\n  cursor: pointer;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  color: white;\\n}\\n\\n.investigate[_ngcontent-%COMP%] {\\n  position: fixed;\\n  min-height: 100%;\\n  border: transparent;\\n  background-color: rgb(145, 225, 54);\\n  top: 0;\\n  left: 0;\\n  width: 75px;\\n  cursor: pointer;\\n}\\n\\n.act-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-bottom: 20px;\\n}\\n\\n.act-image[_ngcontent-%COMP%] {\\n  margin-right: 20px;\\n}\\n\\n.act-title[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.add-button[_ngcontent-%COMP%] {\\n  border: none;\\n  background-color: transparent;\\n  color: white;\\n  margin-right: 5px; \\n\\n  padding: 0; \\n\\n  cursor: pointer; \\n\\n  transition: opacity 0.3s ease, border-radius 0.3s ease;\\n  opacity: 0;\\n}\\n\\n.input-wrapper[_ngcontent-%COMP%]:hover   .add-button[_ngcontent-%COMP%] {\\n  opacity: 1; \\n\\n  border-radius: 50%; \\n\\n  background-color: rgba(255, 255, 255, 0.2); \\n\\n}\\n\\n.input-wrapper[_ngcontent-%COMP%] {\\n  display: flex; \\n\\n  align-items: center; \\n\\n}\\n\\n.addLinha[_ngcontent-%COMP%] {\\n  border: none;\\n  color: white;\\n  background-color: transparent;\\n  margin-top: 10px;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n}\\n\\ntextarea[_ngcontent-%COMP%] {\\n  font-family: Roboto, \\\"Helvetica Neue\\\", sans-serif;\\n  color: white;\\n  border: none;\\n  background-color: transparent;\\n  outline: none;\\n  min-width: 90%;\\n  resize: none;\\n  font-size: 16px;\\n  overflow-y: hidden;\\n  height: auto;\\n}\\n\\n.images[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYWN0L2FjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFBaEI7RUFDSSxtQ0FBQTtFQUNBLGlCQUFBO0FBRUo7O0FBR0E7RUFDSSxtQ0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUFBSjtBQUdJO0VBQ0ksZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQURSO0FBR1E7RUFDSSxxQkFBQTtFQUNBLGdCQUFBO0FBRFo7QUFJWTtFQUNJLFlBQUE7RUFDQSxxQkFBQTtBQUZoQjtBQUtZO0VBQ0ksY0FBQTtBQUhoQjtBQVFJO0VBQ0ksa0JBQUE7QUFOUjtBQVNJO0VBQ0ksZUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQVBSO0FBUVE7RUFDSSxxQkFBQTtBQU5aO0FBVUk7RUFDSSxlQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FBUlI7QUFXSTtFQUNJLDBCQUFBO0FBVFI7O0FBYUE7RUFDSSxlQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUFWSjs7QUFjQTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtBQVhKOztBQWNBO0VBQ0ksa0JBQUE7RUFDQSxrQ0FBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtBQVhKOztBQWNBO0VBQXVCLFVBQUE7QUFWdkI7O0FBWUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQVRKOztBQVlBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBLEVBQUEsbUNBQUE7QUFUSjs7QUFZQTtFQUNJLFNBQUEsRUFBQSwwQkFBQTtBQVRKOztBQVlBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFUSjs7QUFZQTtFQUNJLGVBQUE7RUFDQSxZQUFBO0FBVEo7O0FBWUE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1DQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQVRKOztBQVlBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtBQVRKOztBQVlBO0VBQ0ksa0JBQUE7QUFUSjs7QUFZQTtFQUNJLGdCQUFBO0FBVEo7O0FBWUE7RUFDSSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUEsRUFBQSx1Q0FBQTtFQUNBLFVBQUEsRUFBQSwyQkFBQTtFQUNBLGVBQUEsRUFBQSwyQ0FBQTtFQUNBLHNEQUFBO0VBQ0EsVUFBQTtBQVRKOztBQVlFO0VBQ0UsVUFBQSxFQUFBLHFDQUFBO0VBQ0Esa0JBQUEsRUFBQSwwQkFBQTtFQUNBLDBDQUFBLEVBQUEsdUNBQUE7QUFUSjs7QUFZRTtFQUNFLGFBQUEsRUFBQSwrQkFBQTtFQUNBLG1CQUFBLEVBQUEsNEJBQUE7QUFUSjs7QUFZQztFQUNHLFlBQUE7RUFDQSxZQUFBO0VBQ0EsNkJBQUE7RUFDQSxnQkFBQTtBQVRKOztBQVlBO0VBQ0ksa0JBQUE7QUFUSjs7QUFZQTtFQUNJLGlEQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUVBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUFWSjs7QUFhQTtFQUNJLGtCQUFBO0FBVkoiLCJzb3VyY2VzQ29udGVudCI6WyJodG1sLCBib2R5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcblxyXG59XHJcblxyXG5cclxuaGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG5cclxuICBcclxuICAgIHVsIHtcclxuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gIFxyXG4gICAgICAgIGxpIHtcclxuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICBtYXJnaW46IDBweCAxMHB4O1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsaSBhIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGkgYTpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogIzIyMjEyMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAudG9nZ2xlLW1lbnUge1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIH1cclxuXHJcbiAgICAudHJlZXtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgID4gKiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLnN1Ymlye1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC5zdWJpcjpob3ZlcntcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgIH1cclxufVxyXG5cclxuaDF7XHJcbiAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LWZhbWlseTogUm9ib3RvO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQ1MDtcclxufVxyXG5cclxuXHJcbi50aXRsZS1hcmNoaXZle1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4uYnV0dG9uLWFyY2hpdmV7XHJcbiAgICBtYXJnaW4tbGVmdDogMTAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMSwxNTUsMTU4KTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHdoaXRlO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgb3BhY2l0eTogMC42O1xyXG4gICAgdHJhbnNpdGlvbjogMC4zcztcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmJ1dHRvbi1hcmNoaXZlOmhvdmVyIHtvcGFjaXR5OiAxfVxyXG5cclxuLmZpbGUtbGlzdCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGhlaWdodDogNjB2aDtcclxufVxyXG4gIFxyXG4uZmlsZS1saXN0ID4gZGl2IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogMTBweDsgLyogRXNwYcODwqdhbWVudG8gZW50cmUgb3MgZWxlbWVudG9zICovXHJcbn1cclxuICBcclxuLmZpbGUtbGlzdCA+IGRpdiBwIHtcclxuICAgIG1hcmdpbjogMDsgLyogUmVtb3ZlciBtYXJnZW0gcGFkcsODwqNvICovXHJcbn1cclxuXHJcbi5maWxlLWljb257XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMDBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxucHtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmludmVzdGlnYXRle1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgbWluLWhlaWdodDogMTAwJTtcclxuICAgIGJvcmRlcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTQ1LDIyNSw1NCk7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDc1cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hY3QtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcbiAgXHJcbi5hY3QtaW1hZ2Uge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG59XHJcbiAgXHJcbi5hY3QtdGl0bGUge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5cclxuLmFkZC1idXR0b24ge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDsgLyogU3BhY2UgYmV0d2VlbiBidXR0b24gYW5kIHRleHQgYXJlYSAqL1xyXG4gICAgcGFkZGluZzogMDsgLyogUmVtb3ZlIGRlZmF1bHQgcGFkZGluZyAqL1xyXG4gICAgY3Vyc29yOiBwb2ludGVyOyAvKiBDaGFuZ2UgY3Vyc29yIHRvIHBvaW50ZXIgZm9yIGJldHRlciBVWCAqL1xyXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2UsIGJvcmRlci1yYWRpdXMgMC4zcyBlYXNlO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICB9XHJcbiAgXHJcbiAgLmlucHV0LXdyYXBwZXI6aG92ZXIgLmFkZC1idXR0b24ge1xyXG4gICAgb3BhY2l0eTogMTsgLyogTWFrZSB0aGUgYnV0dG9uIHZpc2libGUgb24gaG92ZXIgKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTsgLyogQ2lyY3VsYXIgaG92ZXIgZWZmZWN0ICovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7IC8qIE9wdGlvbmFsIGJhY2tncm91bmQgY29sb3Igb24gaG92ZXIgKi9cclxuICB9XHJcbiAgXHJcbiAgLmlucHV0LXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleDsgLyogVXNlIEZsZXhib3ggdG8gYWxpZ24gaXRlbXMgKi9cclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IC8qIENlbnRlciBpdGVtcyB2ZXJ0aWNhbGx5ICovXHJcbiAgfVxyXG5cclxuIC5hZGRMaW5oYXtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLmNvbnRhaW5lcntcclxuICAgIG1hcmdpbi1sZWZ0OiAxMDBweDtcclxufVxyXG5cclxudGV4dGFyZWF7XHJcbiAgICBmb250LWZhbWlseTogUm9ib3RvLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgbWluLXdpZHRoOiA5MCU7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbiAgICAvLyBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4uaW1hZ2Vze1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwMHB4O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵlistener","ActComponent_div_22_Template_button_click_2_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","adicionarLinha","ɵɵtext","ɵɵelementEnd","ActComponent_div_22_Template_textarea_input_4_listener","$event","ctx_r8","autoResize","ActComponent_div_23_Template_img_click_1_listener","restoredCtx","_r11","file_r9","$implicit","ctx_r10","downloadFile","ɵɵadvance","ɵɵproperty","ctx_r1","getFileIcon","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","ɵɵelement","image_r12","value","ActComponent","constructor","dialog","dialogRef","sidebarService","actService","isMenuHidden","textAreas","files","renderedFiles","images","fileReader","FileReader","objectUrls","actForm","image","required","file","text_input","toggleMenu","toggleSidebar","push","onFileSelected","event","inputElement","target","i","length","renderType","determineRenderType","renderedFile","downloadUrl","getFileUrl","type","includes","url","URL","createObjectURL","cleanupObjectUrls","forEach","revokeObjectURL","a","document","createElement","href","download","click","handleKeyboardEvent","key","clearTimeout","debounceTimer","setTimeout","openModal","processFiles","fileArray","Array","from","isImage","imageRenderer","console","log","startsWith","onload","result","readAsDataURL","then","ModalComponent","open","width","afterClosed","subscribe","createAct","actData","createEngage","response","error","style","height","scrollHeight","scrollWidth","_","ɵɵdirectiveInject","i1","MatDialog","MatDialogRef","i2","SidebarService","i3","ActService","_2","selectors","hostBindings","ActComponent_HostBindings","rf","ctx","ɵɵresolveDocument","ɵɵtemplate","ActComponent_div_22_Template","ActComponent_div_23_Template","ActComponent_div_24_Template"],"sources":["C:\\Users\\lucas\\OneDrive\\Documentos\\GitHub\\CBLXToolPFP\\frontend\\src\\app\\pages\\act\\act.component.ts","C:\\Users\\lucas\\OneDrive\\Documentos\\GitHub\\CBLXToolPFP\\frontend\\src\\app\\pages\\act\\act.component.html"],"sourcesContent":["import { Component, HostListener } from '@angular/core';\r\nimport { ProgressService } from '../../services/progress.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ModalComponent } from '@app/components/modal/modal.component';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActService } from '@app/services/act.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { SidebarService } from '../../../app/services/sidebar.service'\r\n\r\n\r\n@Component({\r\n  selector: 'app-act',\r\n  templateUrl: './act.component.html',\r\n  styleUrls: ['./act.component.scss'],\r\n})\r\nexport class ActComponent {\r\n  isMenuHidden: boolean = true;\r\n  textAreas: string[] = [''];\r\n  files: File[] = [];  // No changes needed, already correctly typed\r\n  renderedFiles: RenderedFile[] = [];  // Properly typed with the interface defined\r\n  images: { name: string; value: string }[] = [];  // No changes needed, correctly typed\r\n\r\n  private debounceTimer!: ReturnType<typeof setTimeout>;  // Correct type declaration for debounceTimer\r\n  private fileReader: FileReader = new FileReader();  // No changes needed, properly initialized\r\n  private objectUrls: string[] = [];\r\n\r\n  actForm: FormGroup;\r\n\r\n  constructor(\r\n    public dialog: MatDialog, \r\n    public dialogRef: MatDialogRef<ModalComponent>, \r\n    private sidebarService: SidebarService,\r\n    private actService: ActService) {\r\n      this.actForm = new FormGroup({\r\n        image: new FormControl('', Validators.required),\r\n        file: new FormControl('', Validators.required),\r\n        text_input: new FormControl('', Validators.required),\r\n      });\r\n  }\r\n\r\n  toggleMenu(): void {\r\n    this.sidebarService.toggleSidebar();  // Delegate toggling to the SidebarService\r\n  }\r\n\r\n  adicionarLinha():void {\r\n    this.textAreas.push('');\r\n  }\r\n  \r\n  \r\n\r\n  onFileSelected(event: any): void {\r\n    const inputElement = event?.target as HTMLInputElement;\r\n    if (inputElement && inputElement.files) {\r\n      const files: FileList = inputElement.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file: File = files[i];\r\n        const renderType = this.determineRenderType(file);\r\n        const renderedFile: RenderedFile = { file, renderType };\r\n        if (renderType === 'pdf') {\r\n          renderedFile.downloadUrl = this.getFileUrl(file);\r\n        }\r\n        this.renderedFiles.push(renderedFile);\r\n      }\r\n    }\r\n  }\r\n\r\n  determineRenderType(file: File): 'image' | 'pdf' | 'other' {\r\n    if (file.type.includes('image')) {\r\n      return 'image';\r\n    } else if (file.type.includes('pdf')) {\r\n      return 'pdf';\r\n    } else {\r\n      return 'other';\r\n    }\r\n  }\r\n\r\n  getFileUrl(file: File): string {\r\n    const url = URL.createObjectURL(file);\r\n    this.objectUrls.push(url); // Track URLs for cleanup\r\n    return url;\r\n  }\r\n  \r\n  cleanupObjectUrls(): void {\r\n    this.objectUrls.forEach(url => URL.revokeObjectURL(url));\r\n    this.objectUrls = [];\r\n  }\r\n  \r\n  downloadFile(file: File) {\r\n    const url = this.getFileUrl(file);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = file.name;\r\n    a.click();\r\n  }\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  handleKeyboardEvent(event: KeyboardEvent) {\r\n    if (event.key === '/') {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => this.openModal(), 300);\r\n    }\r\n  }\r\n\r\n  // Helper method to process files\r\n  private processFiles(files: FileList): void {\r\n    const fileArray = Array.from(files); // Convert FileList to an array once\r\n\r\n    fileArray.forEach(file => {\r\n      if (this.isImage(file)) {\r\n        this.imageRenderer(file); // Process image files\r\n      } else {\r\n        this.files.push(file); // Store non-image files in this.files\r\n      }\r\n    });\r\n\r\n    // Optional: Log the processed files or remove this in production\r\n    console.log('Non-image files:', this.files);\r\n  }\r\n\r\n  // Check if the file is an image based on its type\r\n  private isImage(file: File): boolean {\r\n    return file.type.startsWith('image/');\r\n  }\r\n\r\n // Image rendering method\r\n  private imageRenderer(file: File): void {\r\n    this.fileReader.onload = () => {\r\n      this.images.push({\r\n        name: file.name,\r\n        value: this.fileReader.result as string // Store image as base64 string\r\n      });\r\n    };\r\n    this.fileReader.readAsDataURL(file); // Read the image file as a Data URL\r\n  }\r\n\r\n  openModal(): void {\r\n    import('@app/components/modal/modal.component').then(({ ModalComponent }) => {\r\n      const dialogRef = this.dialog.open(ModalComponent, {\r\n        width: '250px',\r\n      });\r\n  \r\n      dialogRef.afterClosed().subscribe((files: FileList | null) => {\r\n        if (files && files.length > 0) {\r\n          this.processFiles(files); // Delegate file processing to a helper method\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  createAct(actData: any){\r\n    this.actService.createEngage(actData).subscribe(\r\n      (response) => {\r\n        console.log('Act created Successfully');\r\n      },\r\n      (error) => {\r\n        console.error('Error creating engage:', error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getFileIcon(file: File) {\r\n    if (file.type.includes('pdf')) {\r\n      return '../../../assets/images/pdf.png';\r\n    } else if (file.type.includes('csv')) {\r\n      return '../../../assets/images/csv.png';\r\n    } else if (file.type.includes('ppt')) {\r\n      return '../../../assets/images/ppt.png';\r\n    } else if (file.type.includes('xls')) {\r\n      return '../../../assets/images/xls.png';\r\n    } else if (file.type.includes('doc') || file.type.includes('word')) {\r\n      return '../../../assets/images/doc.png';\r\n    } else{\r\n      return '../../../assets/images/file.png';\r\n    }\r\n  }\r\n\r\nautoResize(event: any) {\r\n  const target = event.target;\r\n  // Reset height to auto to calculate new height\r\n  target.style.height = 'auto';\r\n  // Set new height based on scrollHeight\r\n  target.style.height = target.scrollHeight + 'px';\r\n\r\n  // Reset width to auto to calculate new width\r\n  target.style.width = 'auto';\r\n  // Set new width based on scrollWidth\r\n  target.style.width = target.scrollWidth + 'px';\r\n}\r\n\r\n\r\n}\r\n\r\ninterface RenderedFile {\r\n  file: File;\r\n  renderType: 'image' | 'pdf' | 'other';\r\n  downloadUrl?: string;\r\n}","<body>\r\n    \r\n    <header>\r\n      <div class=\"tree\">\r\n        <app-togglemenu class=\"toggle-menu\"></app-togglemenu>\r\n        <a routerLink=\"/jornada\" class=\"subir\">Turismo</a>\r\n        /Act\r\n      </div>\r\n      <ul>\r\n        <li><a routerLink=\"/perfil\"><img src=\"../../../assets/images/perfil.png\" width=\"20\" height=\"20\"></a></li>\r\n        <li><a href=\"#\"><img src=\"../../../assets/images/menu.png\" width=\"20\" height=\"20\"></a></li>\r\n        <li><a href=\"#\"><img src=\"../../../assets/images/config.png\" width=\"20\" height=\"20\"> </a></li>\r\n      </ul>\r\n    </header>\r\n    \r\n    <app-menu></app-menu>\r\n    \r\n    <div class=\"act-container\">\r\n      <img src=\"../../../assets/images/act.jpeg\" class=\"act-image\">\r\n      <h1 class=\"act-title\">Act</h1>\r\n    </div>\r\n    \r\n   \r\n    <div class=\"container\" *ngFor=\"let textarea of textAreas; let i = index\">\r\n      <div class=\"input-wrapper\">      \r\n        <button mat-icon-button class=\"add-button\" (click)=\"adicionarLinha()\" >+</button>\r\n        <textarea #textAreaRef class=\"textArea\" placeholder=\"Digite '/' para opções\" (input)=\"autoResize($event)\"></textarea>\r\n      </div>\r\n    </div>\r\n    \r\n    \r\n  \r\n    <div class=\"archives\" *ngFor=\"let file of files\">\r\n      <img class=\"file-icon\" [src]=\"getFileIcon(file)\" (click)=\"downloadFile(file)\">\r\n      <p class=\"title-archive\">{{ file.name }}</p>\r\n    </div>\r\n\r\n    <div class=\"images\" *ngFor=\"let image of images\">\r\n      <img [src]=\"image.value\">\r\n    </div>\r\n\r\n    <a routerLink=\"/investigate\"><button class=\"investigate\"></button></a>\r\n  </body>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
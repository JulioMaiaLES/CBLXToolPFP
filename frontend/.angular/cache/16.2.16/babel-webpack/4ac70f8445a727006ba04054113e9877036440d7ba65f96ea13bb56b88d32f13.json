{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@app/services/engage.service\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"../../services/progress.service\";\nimport * as i5 from \"../../../app/services/sidebar.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../components/jornada/menu/menu.component\";\nfunction EngageComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"textarea\", 37);\n    i0.ɵɵlistener(\"keydown.enter\", function EngageComponent_div_36_Template_textarea_keydown_enter_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r6 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onFormSubmit($event, \"big_idea\", i_r6));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r6);\n  }\n}\nfunction EngageComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"textarea\", 37);\n    i0.ɵɵlistener(\"keydown.enter\", function EngageComponent_div_46_Template_textarea_keydown_enter_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r10 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onFormSubmit($event, \"essential_question\", i_r10));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r10 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r10);\n  }\n}\nfunction EngageComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"textarea\", 37);\n    i0.ɵɵlistener(\"keydown.enter\", function EngageComponent_div_56_Template_textarea_keydown_enter_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const i_r14 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onFormSubmit($event, \"challenge\", i_r14));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r14 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r14);\n  }\n}\nfunction EngageComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"p\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Arquivo: \", file_r17.name, \"\");\n  }\n}\nfunction EngageComponent_div_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelement(1, \"img\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const image_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r18.value, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class EngageComponent {\n  toggleMenu() {\n    this.sidebarService.toggleSidebar(); // Delegate toggling to the SidebarService\n  }\n\n  constructor(fb, engageService, dialog, dialogRef, progressService, sidebarService, route) {\n    this.fb = fb;\n    this.engageService = engageService;\n    this.dialog = dialog;\n    this.dialogRef = dialogRef;\n    this.progressService = progressService;\n    this.sidebarService = sidebarService;\n    this.route = route;\n    this.engageData = {\n      big_idea: [],\n      essential_question: [],\n      challenge: []\n    };\n    this.expandedPhase = null;\n    this.isMenuHidden = true; // Explicitly declare boolean type (optional)\n    this.files = []; // No changes needed, already correctly typed\n    this.renderedFiles = []; // Properly typed with the interface defined\n    this.images = []; // No changes needed, correctly typed\n    this.fileReader = new FileReader(); // No changes needed, properly initialized\n    this.objectUrls = []; // Initialized properly to hold URLs\n  }\n\n  ngOnInit() {\n    // Initialize the form with FormArrays for each phase\n    this.engageForm = this.fb.group({\n      big_idea: this.fb.array([this.createField()]),\n      essential_question: this.fb.array([this.createField()]),\n      challenge: this.fb.array([this.createField()])\n    });\n    // Load the engage data (if needed for pre-existing data)\n    this.loadEngageData();\n    // Handle query parameters to determine the expanded phase\n    this.route.queryParamMap.subscribe(params => {\n      const phase = params.get('phase');\n      if (phase) {\n        this.expandedPhase = phase;\n      }\n    });\n  }\n  isExpanded(phase) {\n    return this.expandedPhase === phase;\n  }\n  togglePhase(phase) {\n    if (this.expandedPhase === phase) {\n      this.expandedPhase = null; // Collapse if already expanded\n    } else {\n      this.expandedPhase = phase; // Expand the selected phase\n    }\n  }\n\n  loadEngageData() {\n    this.engageService.getEngage().subscribe({\n      next: response => {\n        if (response.data) {\n          this.engageData = response.data;\n          this.populateForm();\n          console.log('Engage data loaded successfully', this.engageData);\n        } else {\n          console.error('Unexpected response format:', response);\n        }\n      },\n      error: error => console.error('Failed to load engage data:', error)\n    });\n  }\n  populateForm() {\n    // Destructure engageData with default values\n    const {\n      big_idea = '',\n      essential_question = '',\n      challenge = ''\n    } = this.engageData;\n    // Convert to arrays properly\n    this.setFields('big_idea', this.convertToArray(big_idea));\n    this.setFields('essential_question', this.convertToArray(essential_question));\n    this.setFields('challenge', this.convertToArray(challenge));\n  }\n  // Update this function to handle empty strings correctly\n  convertToArray(data) {\n    if (Array.isArray(data)) {\n      return data;\n    } else if (typeof data === 'string') {\n      if (data.trim() === '') {\n        return ['']; // Return array with an empty string to create a text area\n      }\n\n      return data.split(','); // Split by commas or another delimiter if needed\n    }\n\n    return []; // Return an empty array if the data is null or not a valid string\n  }\n\n  setFields(fieldName, fieldData) {\n    const formArray = this.engageForm.get(fieldName);\n    formArray.clear(); // Clear existing FormArray\n    // Create form controls for each entry in fieldData, including empty strings\n    fieldData.forEach(data => {\n      formArray.push(this.fb.group({\n        content: [data, Validators.required]\n      }));\n    });\n  }\n  get bigIdeaFields() {\n    return this.engageForm.get('big_idea');\n  }\n  get essentialQuestionFields() {\n    return this.engageForm.get('essential_question');\n  }\n  get challengeFields() {\n    return this.engageForm.get('challenge');\n  }\n  createField() {\n    return this.fb.group({\n      content: ['', Validators.required]\n    });\n  }\n  addFields(fieldName, count) {\n    const control = this.engageForm.get(fieldName);\n    // Instead of pushing multiple at once, map through and add each individually\n    for (let i = 0; i < count; i++) {\n      control.push(this.createField());\n    }\n  }\n  saveDataWithDebounce(formData) {\n    // Clear the existing timeout if there's one\n    if (this.saveTimeout) clearTimeout(this.saveTimeout);\n    // Set a new timeout to debounce the save operation\n    this.saveTimeout = setTimeout(() => {\n      this.saveData(formData).subscribe({\n        next: response => console.log('Data saved successfully', response),\n        error: error => console.error('Failed to save data:', error)\n      });\n    }, 500); // Adjust debounce time as needed\n  }\n\n  onFormSubmit(event, fieldName, index) {\n    event.preventDefault();\n    const fieldArray = this.engageForm.get(fieldName);\n    const field = fieldArray.at(index); // Get the specific field by index\n    if (!field.valid) {\n      console.log('Field is empty or invalid. Aborting submission.');\n      return;\n    }\n    // Get the new value from the form field\n    const fieldValue = field.get('content')?.value.trim();\n    if (fieldValue) {\n      // Ensure engageData is properly updated\n      if (Array.isArray(this.engageData[fieldName])) {\n        // If engageData[fieldName] is an array, update it accordingly\n        this.engageData[fieldName].splice(index, 1, fieldValue);\n      } else {\n        // Otherwise, assign the new value directly\n        this.engageData[fieldName] = fieldValue;\n      }\n    }\n    // Save all filled fields with debounce to avoid repeated saves\n    this.saveDataWithDebounce(this.engageData);\n    // Optionally, add a new field after the current one is submitted\n    this.addFields(fieldName, 1);\n  }\n  saveData(formData) {\n    return this.engageService.createOrUpdateEngage(formData);\n  }\n  updateProgress() {\n    this.progressService.answeredQuestions++;\n    this.progressService.engageProgress = Math.round(this.progressService.answeredQuestions / this.progressService.totalQuestions * 100);\n  }\n  onFileSelected(event) {\n    const inputElement = event?.target;\n    if (inputElement && inputElement.files) {\n      const files = inputElement.files;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const renderType = this.determineRenderType(file);\n        const renderedFile = {\n          file,\n          renderType\n        };\n        if (renderType === 'pdf') {\n          renderedFile.downloadUrl = this.getFileUrl(file);\n        }\n        this.renderedFiles.push(renderedFile);\n      }\n    }\n  }\n  determineRenderType(file) {\n    if (file.type.includes('image')) {\n      return 'image';\n    } else if (file.type.includes('pdf')) {\n      return 'pdf';\n    } else {\n      return 'other';\n    }\n  }\n  getFileUrl(file) {\n    const url = URL.createObjectURL(file);\n    this.objectUrls.push(url); // Track URLs for cleanup\n    return url;\n  }\n  cleanupObjectUrls() {\n    this.objectUrls.forEach(url => URL.revokeObjectURL(url));\n    this.objectUrls = [];\n  }\n  downloadFile(file) {\n    const url = this.getFileUrl(file);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = file.name;\n    a.click();\n  }\n  handleKeyboardEvent(event) {\n    if (event.key === '/') {\n      clearTimeout(this.debounceTimer);\n      this.debounceTimer = setTimeout(() => this.openModal(), 300);\n    }\n  }\n  openModal() {\n    import('@app/components/modal/modal.component').then(({\n      ModalComponent\n    }) => {\n      const dialogRef = this.dialog.open(ModalComponent, {\n        width: '250px'\n      });\n      dialogRef.afterClosed().subscribe(files => {\n        if (files && files.length > 0) {\n          this.processFiles(files); // Delegate file processing to a helper method\n        }\n      });\n    });\n  }\n  // Helper method to process files\n  processFiles(files) {\n    const fileArray = Array.from(files); // Convert FileList to an array once\n    fileArray.forEach(file => {\n      if (this.isImage(file)) {\n        this.imageRenderer(file); // Process image files\n      } else {\n        this.files.push(file); // Store non-image files in this.files\n      }\n    });\n    // Optional: Log the processed files or remove this in production\n    console.log('Non-image files:', this.files);\n  }\n  // Check if the file is an image based on its type\n  isImage(file) {\n    return file.type.startsWith('image/');\n  }\n  // Image rendering method\n  imageRenderer(file) {\n    this.fileReader.onload = () => {\n      this.images.push({\n        name: file.name,\n        value: this.fileReader.result // Store image as base64 string\n      });\n    };\n\n    this.fileReader.readAsDataURL(file); // Read the image file as a Data URL\n  }\n\n  autoResize(event) {\n    const target = event.target;\n    if (target.scrollHeight !== target.clientHeight) {\n      target.style.height = 'auto';\n      target.style.height = target.scrollHeight + 'px';\n    }\n  }\n  static {\n    this.ɵfac = function EngageComponent_Factory(t) {\n      return new (t || EngageComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EngageService), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i3.MatDialogRef), i0.ɵɵdirectiveInject(i4.ProgressService), i0.ɵɵdirectiveInject(i5.SidebarService), i0.ɵɵdirectiveInject(i6.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EngageComponent,\n      selectors: [[\"app-engage\"]],\n      hostBindings: function EngageComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"keydown\", function EngageComponent_keydown_HostBindingHandler($event) {\n            return ctx.handleKeyboardEvent($event);\n          }, false, i0.ɵɵresolveDocument);\n        }\n      },\n      decls: 91,\n      vars: 12,\n      consts: [[1, \"tree\"], [\"routerLink\", \"/projeto\", 1, \"subir\"], [\"routerLink\", \"/jornada\", 1, \"subir\"], [1, \"navigation\"], [1, \"nav-engage-select\"], [\"routerLink\", \"/investigate\", 1, \"nav-acessar-investigate\"], [\"routerLink\", \"/act\", 1, \"nav-acessar-act\"], [1, \"main-content\"], [1, \"pagination\"], [1, \"current-block\"], [1, \"new-block\"], [3, \"formGroup\"], [\"formArrayName\", \"big_idea\", 1, \"step-container\"], [1, \"align-vertical\"], [\"src\", \"../../../assets/images/big_idea.png\", \"alt\", \"lampada\"], [1, \"phase-controls\"], [\"src\", \"../../../assets/images/expand.png\", 1, \"toggle-symbol\", 3, \"click\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"formArrayName\", \"essential_question\", 1, \"step-container\"], [\"src\", \"../../../assets/images/essential_question.png\", \"alt\", \"pensando\"], [\"formArrayName\", \"challenge\", 1, \"step-container\"], [\"src\", \"../../../assets/images/challenge.png\", \"alt\", \"alvo\"], [1, \"visual-tab\"], [1, \"tab-selected\"], [\"src\", \"../../../assets/images/conteudos.png\"], [\"src\", \"../../../assets/images/templates.png\"], [1, \"tab-search\"], [\"placeholder\", \"Busca\"], [\"src\", \"../../../assets/images/lupa.png\"], [1, \"content-grid\"], [\"src\", \"../../../assets/images/textos.png\"], [\"src\", \"../../../assets/images/imagens.png\"], [\"src\", \"../../../assets/images/tabelas.png\"], [\"src\", \"../../../assets/images/arquivos.png\"], [\"class\", \"archives\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"images\", 4, \"ngFor\", \"ngForOf\"], [3, \"formGroupName\"], [\"formControlName\", \"content\", \"type\", \"text\", 1, \"textos\", 3, \"keydown.enter\"], [1, \"archives\"], [1, \"title-archive\"], [1, \"images\"], [\"alt\", \"Uploaded Image\", 3, \"src\"]],\n      template: function EngageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"header\")(1, \"div\", 0)(2, \"a\", 1);\n          i0.ɵɵtext(3, \"Projetos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(4, \" > \");\n          i0.ɵɵelementStart(5, \"a\", 2);\n          i0.ɵɵtext(6, \"Projeto CBL\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(7, \" > \");\n          i0.ɵɵelementStart(8, \"b\");\n          i0.ɵɵtext(9, \" Engage\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 3)(11, \"ul\")(12, \"li\", 4);\n          i0.ɵɵtext(13, \"Engage\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"li\")(15, \"a\", 5);\n          i0.ɵɵtext(16, \"Investigate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"li\")(18, \"a\", 6);\n          i0.ɵɵtext(19, \"Act\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelement(20, \"app-menu\");\n          i0.ɵɵelementStart(21, \"body\")(22, \"div\", 7)(23, \"div\", 8);\n          i0.ɵɵelement(24, \"div\", 9);\n          i0.ɵɵelementStart(25, \"div\", 10);\n          i0.ɵɵtext(26, \" + \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"form\", 11)(28, \"div\", 12)(29, \"label\", 13);\n          i0.ɵɵelement(30, \"img\", 14);\n          i0.ɵɵtext(31, \" Big Idea \");\n          i0.ɵɵelementStart(32, \"div\", 15)(33, \"img\", 16);\n          i0.ɵɵlistener(\"click\", function EngageComponent_Template_img_click_33_listener() {\n            return ctx.togglePhase(\"big_idea\");\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(34, \"br\")(35, \"br\");\n          i0.ɵɵtemplate(36, EngageComponent_div_36_Template, 2, 1, \"div\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(37, \"br\");\n          i0.ɵɵelementStart(38, \"div\", 18)(39, \"label\", 13);\n          i0.ɵɵelement(40, \"img\", 19);\n          i0.ɵɵtext(41, \" Essential Question \");\n          i0.ɵɵelementStart(42, \"div\", 15)(43, \"img\", 16);\n          i0.ɵɵlistener(\"click\", function EngageComponent_Template_img_click_43_listener() {\n            return ctx.togglePhase(\"essential_question\");\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(44, \"br\")(45, \"br\");\n          i0.ɵɵtemplate(46, EngageComponent_div_46_Template, 2, 1, \"div\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(47, \"br\");\n          i0.ɵɵelementStart(48, \"div\", 20)(49, \"label\", 13);\n          i0.ɵɵelement(50, \"img\", 21);\n          i0.ɵɵtext(51, \" Challenge \");\n          i0.ɵɵelementStart(52, \"div\", 15)(53, \"img\", 16);\n          i0.ɵɵlistener(\"click\", function EngageComponent_Template_img_click_53_listener() {\n            return ctx.togglePhase(\"challenge\");\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(54, \"br\")(55, \"br\");\n          i0.ɵɵtemplate(56, EngageComponent_div_56_Template, 2, 1, \"div\", 17);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(57, \"div\", 22)(58, \"ul\")(59, \"li\")(60, \"div\", 23);\n          i0.ɵɵelement(61, \"img\", 24)(62, \"br\");\n          i0.ɵɵtext(63, \" Conte\\u00FAdos \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(64, \"li\")(65, \"div\");\n          i0.ɵɵelement(66, \"img\", 25)(67, \"br\");\n          i0.ɵɵtext(68, \" Templates \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(69, \"div\", 26);\n          i0.ɵɵelement(70, \"input\", 27)(71, \"img\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(72, \"div\", 29)(73, \"div\");\n          i0.ɵɵelement(74, \"img\", 30)(75, \"br\");\n          i0.ɵɵtext(76, \" Texto \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"div\");\n          i0.ɵɵelement(78, \"img\", 31)(79, \"br\");\n          i0.ɵɵtext(80, \" Imagem \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(81, \"div\");\n          i0.ɵɵelement(82, \"img\", 32)(83, \"br\");\n          i0.ɵɵtext(84, \" Tabela \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(85, \"div\");\n          i0.ɵɵelement(86, \"img\", 33)(87, \"br\");\n          i0.ɵɵtext(88, \" Arquivo \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(89, EngageComponent_div_89_Template, 3, 1, \"div\", 34);\n          i0.ɵɵtemplate(90, EngageComponent_div_90_Template, 2, 1, \"div\", 35);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(27);\n          i0.ɵɵproperty(\"formGroup\", ctx.engageForm);\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"expanded\", ctx.isExpanded(\"big_idea\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", ctx.bigIdeaFields.controls);\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", ctx.isExpanded(\"essential_question\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", ctx.essentialQuestionFields.controls);\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"expanded\", ctx.isExpanded(\"challenge\"));\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", ctx.challengeFields.controls);\n          i0.ɵɵadvance(33);\n          i0.ɵɵproperty(\"ngForOf\", ctx.files);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.images);\n        }\n      },\n      dependencies: [i7.NgForOf, i6.RouterLink, i8.MenuComponent, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName],\n      styles: [\"@charset \\\"UTF-8\\\";\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n  background-color: var(--main-color);\\n  min-height: 100vh;\\n  font-family: Roboto, sans-serif;\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n  background-color: var(--main-color);\\n  color: white;\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n  position: relative;\\n  padding-top: 5%;\\n  padding-bottom: 2%;\\n  padding-right: 337px;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n}\\nheader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  margin: 0px 15px;\\n}\\nheader[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  display: flex;\\n  font-family: Helvetica, Bold;\\n  align-items: center;\\n  gap: 10px;\\n}\\nheader[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n  display: inline-block;\\n}\\nheader[_ngcontent-%COMP%]   .nav-acessar-investigate[_ngcontent-%COMP%] {\\n  color: white;\\n  text-decoration: none;\\n}\\nheader[_ngcontent-%COMP%]   .nav-acessar-investigate[_ngcontent-%COMP%]:hover {\\n  color: #F5C949;\\n}\\nheader[_ngcontent-%COMP%]   .nav-acessar-act[_ngcontent-%COMP%] {\\n  color: white;\\n  text-decoration: none;\\n}\\nheader[_ngcontent-%COMP%]   .nav-acessar-act[_ngcontent-%COMP%]:hover {\\n  color: #428CD3;\\n}\\nheader[_ngcontent-%COMP%]   .nav-engage-select[_ngcontent-%COMP%] {\\n  background-color: #58BC68;\\n  padding: 10px;\\n  border-radius: 10px;\\n  color: #000000;\\n}\\nheader[_ngcontent-%COMP%]   .subir[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  color: white;\\n  text-decoration: none;\\n}\\nheader[_ngcontent-%COMP%]   .subir[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\nform[_ngcontent-%COMP%] {\\n  padding: 0 450px;\\n  position: relative;\\n}\\nform[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 28px;\\n  color: white;\\n}\\nform[_ngcontent-%COMP%]   .textos[_ngcontent-%COMP%] {\\n  width: 100%;\\n  min-width: 150px;\\n  resize: none;\\n  overflow: hidden;\\n  background-color: transparent;\\n  color: white;\\n  border: none;\\n  font-family: Roboto, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 22px;\\n  line-height: 24px;\\n  outline: none;\\n}\\nform[_ngcontent-%COMP%]   .align-vertical[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 30px;\\n}\\nform[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  background-color: #262626;\\n  padding: 20px;\\n  border-radius: 10px;\\n  height: 150px; \\n\\n  overflow: hidden; \\n\\n  transition: height 0.5s ease-in-out, flex-grow 0.5s ease-in-out;\\n  flex-grow: 0;\\n  cursor: pointer;\\n}\\nform[_ngcontent-%COMP%]   .step-container.expanded[_ngcontent-%COMP%] {\\n  height: 500px; \\n\\n  flex-grow: 1; \\n\\n}\\nform[_ngcontent-%COMP%]   .phase-controls[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  cursor: pointer;\\n}\\nform[_ngcontent-%COMP%]   .toggle-symbol[_ngcontent-%COMP%] {\\n  width: 18px;\\n  height: 22px;\\n}\\n\\n.main-content[_ngcontent-%COMP%] {\\n  display: inline;\\n  gap: 20px;\\n}\\n\\n.navigation[_ngcontent-%COMP%] {\\n  background-color: #262626;\\n  padding: 10px;\\n  border-radius: 10px;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n  color: white;\\n  padding-left: 250px;\\n  position: absolute;\\n}\\n\\n.current-block[_ngcontent-%COMP%] {\\n  width: 178px;\\n  height: 100px;\\n  background-color: #58BC68;\\n  border: 5px solid white;\\n  border-radius: 10px;\\n}\\n\\n.new-block[_ngcontent-%COMP%] {\\n  width: 178px;\\n  height: 100px;\\n  background-color: #262626;\\n  border-radius: 10px;\\n  margin-top: 20px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 40px;\\n  font-weight: 50;\\n}\\n\\n.new-block[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n}\\n\\n.visual-tab[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  position: fixed;\\n  height: 100%;\\n  background-color: #262626;\\n  width: 337px;\\n  top: 0;\\n  right: 0;\\n}\\n\\n.tab-selected[_ngcontent-%COMP%] {\\n  background-color: #707070;\\n  border-radius: 10px;\\n  padding: 15px;\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  list-style: none;\\n  padding: 0;\\n  margin: 40px 0;\\n  color: white;\\n  font-size: 16px;\\n}\\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  margin: 0px 25px;\\n}\\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n}\\n\\n.tab-search[_ngcontent-%COMP%] {\\n  align-items: center;\\n  display: flex;\\n  justify-content: space-between;\\n  background-color: white;\\n  border-radius: 20px;\\n  width: 200px;\\n  padding: 0 10px;\\n  margin-bottom: 30px;\\n}\\n.tab-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  color: black;\\n  width: 150px;\\n  text-decoration: none;\\n  background: transparent;\\n  border: none;\\n  outline: none;\\n}\\n\\n.content-grid[_ngcontent-%COMP%] {\\n  color: white;\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  gap: 20px;\\n  justify-items: center;\\n  align-items: center;\\n}\\n\\n.content-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  text-align: center;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 0 30px;\\n}\\n\\n.title-archive[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n  font-size: 14px;\\n  color: white;\\n}\\n\\n.button-archive[_ngcontent-%COMP%] {\\n  margin-left: 100px;\\n  background-color: rgb(1, 155, 158);\\n  border: 2px solid white;\\n  color: white;\\n  text-align: center;\\n  font-size: 14px;\\n  opacity: 0.6;\\n  transition: 0.3s;\\n  height: 30px;\\n  display: inline-block;\\n  text-decoration: none;\\n  cursor: pointer;\\n}\\n\\n.button-archive[_ngcontent-%COMP%]:hover {\\n  opacity: 1;\\n}\\n\\n.file-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  height: 60vh;\\n}\\n\\n.file-list[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: 10px; \\n\\n}\\n\\n.file-list[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZW5nYWdlL2VuZ2FnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFBaEI7RUFDSSxtQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsK0JBQUE7QUFFSjs7QUFFQTtFQUNJLG1DQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0VBRUEsa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQUFKO0FBRUk7RUFDSSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0FBQVI7QUFFUTtFQUNJLHFCQUFBO0VBQ0EsZ0JBQUE7QUFBWjtBQUlJO0VBQ0ksZUFBQTtFQUVBLGFBQUE7RUFDQSw0QkFBQTtFQUNBLG1CQUFBO0VBS0EsU0FBQTtBQVBSO0FBR1E7RUFDSSxxQkFBQTtBQURaO0FBU0k7RUFDSSxZQUFBO0VBQ0EscUJBQUE7QUFQUjtBQVVJO0VBQ0ksY0FBQTtBQVJSO0FBV0k7RUFDSSxZQUFBO0VBQ0EscUJBQUE7QUFUUjtBQVlJO0VBQ0ksY0FBQTtBQVZSO0FBYUk7RUFDSSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUFYUjtBQWNJO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQVpSO0FBZUk7RUFDSSwwQkFBQTtBQWJSOztBQWtCQTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7QUFmSjtBQWlCSTtFQUNJLGVBQUE7RUFDQSxZQUFBO0FBZlI7QUFrQkk7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsaURBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FBaEJSO0FBbUJJO0VBQ0ksb0JBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUFqQlI7QUFvQkk7RUFDSSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQSxFQUFBLGtDQUFBO0VBQ0EsZ0JBQUEsRUFBQSw2QkFBQTtFQUNBLCtEQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUFsQlI7QUFxQkk7RUFDSSxhQUFBLEVBQUEsb0JBQUE7RUFDQSxZQUFBLEVBQUEscURBQUE7QUFuQlI7QUFzQkk7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQXBCUjtBQXVCSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBckJSOztBQTBCQTtFQUNJLGVBQUE7RUFDQSxTQUFBO0FBdkJKOztBQTBCQTtFQUNJLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBdkJKOztBQTBCQTtFQUNJLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBdkJKOztBQTBCQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBdkJKOztBQTBCQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQXZCSjs7QUEwQkE7RUFDSSxlQUFBO0FBdkJKOztBQTBCQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtBQXZCSjs7QUEwQkE7RUFDSSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQXZCSjs7QUEwQkE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQXZCSjtBQXlCSTtFQUNJLHFCQUFBO0VBQ0EsZ0JBQUE7QUF2QlI7QUEwQkk7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7QUF4QlI7O0FBNEJBO0VBQ0ksbUJBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQXpCSjtBQTJCSTtFQUNJLGVBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQXpCUjs7QUE2QkE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsU0FBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7QUExQko7O0FBNkJBO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUExQko7O0FBNkJBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtBQTFCSjs7QUE2QkE7RUFDSSxrQkFBQTtFQUNBLGtDQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0FBMUJKOztBQTZCQTtFQUF1QixVQUFBO0FBekJ2Qjs7QUEyQkE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQXhCSjs7QUEyQkE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUEsRUFBQSxtQ0FBQTtBQXhCSjs7QUEyQkE7RUFDSSxTQUFBLEVBQUEsMEJBQUE7QUF4QkoiLCJzb3VyY2VzQ29udGVudCI6WyJodG1sLCBib2R5e1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1haW4tY29sb3IpO1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XG59XG5cblxuaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIC8vIG1hcmdpbjogMDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgcGFkZGluZy10b3A6IDUlO1xuICAgIHBhZGRpbmctYm90dG9tOiAyJTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMzdweDtcbiAgXG4gICAgdWwge1xuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gIFxuICAgICAgICBsaSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBtYXJnaW46IDBweCAxNXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLnRyZWV7XG4gICAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICAgICAgLy8gcGFkZGluZy1sZWZ0OiAxMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEJvbGQ7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgID4gKiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIGdhcDogMTBweDtcblxuICAgIH1cbiAgICBcblxuICAgIC5uYXYtYWNlc3Nhci1pbnZlc3RpZ2F0ZXtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuXG4gICAgLm5hdi1hY2Vzc2FyLWludmVzdGlnYXRlOmhvdmVye1xuICAgICAgICBjb2xvcjogI0Y1Qzk0OVxuICAgIH1cblxuICAgIC5uYXYtYWNlc3Nhci1hY3R7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIH1cblxuICAgIC5uYXYtYWNlc3Nhci1hY3Q6aG92ZXJ7XG4gICAgICAgIGNvbG9yOiAjNDI4Q0QzXG4gICAgfVxuXG4gICAgLm5hdi1lbmdhZ2Utc2VsZWN0e1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNThCQzY4O1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICBjb2xvcjogIzAwMDAwMDtcbiAgICB9XG5cbiAgICAuc3ViaXJ7XG4gICAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgfVxuICAgIFxuICAgIC5zdWJpcjpob3ZlcntcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxufVxuXG5cbmZvcm17XG4gICAgcGFkZGluZzogMCA0NTBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICBsYWJlbHtcbiAgICAgICAgZm9udC1zaXplOiAyOHB4O1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLnRleHRvcyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtaW4td2lkdGg6IDE1MHB4O1xuICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90bywgJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjtcbiAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG5cbiAgICAuYWxpZ24tdmVydGljYWx7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDMwcHg7XG4gICAgfVxuXG4gICAgLnN0ZXAtY29udGFpbmVye1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI2MjY7XG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgICAgIGhlaWdodDogMTUwcHg7IC8qIERlZmF1bHQgaGVpZ2h0IGZvciBhbGwgcGhhc2VzICovXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47IC8qIFByZXZlbnQgY29udGVudCBvdmVyZmxvdyAqL1xuICAgICAgICB0cmFuc2l0aW9uOiBoZWlnaHQgMC41cyBlYXNlLWluLW91dCwgZmxleC1ncm93IDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgICAgIGZsZXgtZ3JvdzogMDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICBcbiAgICAuc3RlcC1jb250YWluZXIuZXhwYW5kZWQge1xuICAgICAgICBoZWlnaHQ6IDUwMHB4OyAvKiBFeHBhbmRlZCBoZWlnaHQgKi9cbiAgICAgICAgZmxleC1ncm93OiAxOyAvKiBBbGxvd3MgdGhpcyBwaGFzZSB0byB0YWtlIHVwIG1vcmUgc3BhY2Ugc21vb3RobHkgKi9cbiAgICB9XG5cbiAgICAucGhhc2UtY29udHJvbHMge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMTBweDtcbiAgICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG4gICAgXG4gICAgLnRvZ2dsZS1zeW1ib2x7XG4gICAgICAgIHdpZHRoOiAxOHB4O1xuICAgICAgICBoZWlnaHQ6IDIycHg7XG4gICAgfVxuXG59IFxuXG4ubWFpbi1jb250ZW50e1xuICAgIGRpc3BsYXk6IGlubGluZTtcbiAgICBnYXA6IDIwcHg7XG59XG5cbi5uYXZpZ2F0aW9ue1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjI2MjY7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuXG4ucGFnaW5hdGlvbntcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZy1sZWZ0OiAyNTBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbi5jdXJyZW50LWJsb2Nre1xuICAgIHdpZHRoOiAxNzhweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1OEJDNjg7XG4gICAgYm9yZGVyOiA1cHggc29saWQgd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cblxuLm5ldy1ibG9ja3tcbiAgICB3aWR0aDogMTc4cHg7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjYyNjI2O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7ICAgIFxuICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogNDBweDtcbiAgICBmb250LXdlaWdodDogNTA7XG59XG5cbi5uZXctYmxvY2s6aG92ZXJ7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4udmlzdWFsLXRhYntcbiAgICBkaXNwbGF5OiBmbGV4OyBcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI2MjYyNjtcbiAgICB3aWR0aDogMzM3cHg7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xufVxuXG4udGFiLXNlbGVjdGVke1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM3MDcwNzA7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBwYWRkaW5nOiAxNXB4O1xufVxuXG51bCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDQwcHggMDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuXG4gICAgbGkge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbjogMHB4IDI1cHg7XG4gICAgfVxuICAgIFxuICAgIGxpIGRpdiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxufVxuXG4udGFiLXNlYXJjaHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgd2lkdGg6IDIwMHB4OyBcbiAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcblxuICAgIGlucHV0e1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgd2lkdGg6IDE1MHB4O1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgfVxufVxuXG4uY29udGVudC1ncmlkIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgIGdhcDogMjBweDtcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmNvbnRlbnQtZ3JpZCBkaXYge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMCAzMHB4O1xufVxuXG4udGl0bGUtYXJjaGl2ZXtcbiAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmJ1dHRvbi1hcmNoaXZle1xuICAgIG1hcmdpbi1sZWZ0OiAxMDBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMSwxNTUsMTU4KTtcbiAgICBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBvcGFjaXR5OiAwLjY7XG4gICAgdHJhbnNpdGlvbjogMC4zcztcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5idXR0b24tYXJjaGl2ZTpob3ZlciB7b3BhY2l0eTogMX1cblxuLmZpbGUtbGlzdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiA2MHZoO1xufVxuICBcbi5maWxlLWxpc3QgPiBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMTBweDsgLyogRXNwYcODwqdhbWVudG8gZW50cmUgb3MgZWxlbWVudG9zICovXG59XG4gIFxuLmZpbGUtbGlzdCA+IGRpdiBwIHtcbiAgICBtYXJnaW46IDA7IC8qIFJlbW92ZXIgbWFyZ2VtIHBhZHLDg8KjbyAqL1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵlistener","EngageComponent_div_36_Template_textarea_keydown_enter_1_listener","$event","restoredCtx","ɵɵrestoreView","_r8","i_r6","index","ctx_r7","ɵɵnextContext","ɵɵresetView","onFormSubmit","ɵɵelementEnd","ɵɵproperty","EngageComponent_div_46_Template_textarea_keydown_enter_1_listener","_r12","i_r10","ctx_r11","EngageComponent_div_56_Template_textarea_keydown_enter_1_listener","_r16","i_r14","ctx_r15","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","file_r17","name","ɵɵelement","image_r18","value","ɵɵsanitizeUrl","EngageComponent","toggleMenu","sidebarService","toggleSidebar","constructor","fb","engageService","dialog","dialogRef","progressService","route","engageData","big_idea","essential_question","challenge","expandedPhase","isMenuHidden","files","renderedFiles","images","fileReader","FileReader","objectUrls","ngOnInit","engageForm","group","array","createField","loadEngageData","queryParamMap","subscribe","params","phase","get","isExpanded","togglePhase","getEngage","next","response","data","populateForm","console","log","error","setFields","convertToArray","Array","isArray","trim","split","fieldName","fieldData","formArray","clear","forEach","push","content","required","bigIdeaFields","essentialQuestionFields","challengeFields","addFields","count","control","i","saveDataWithDebounce","formData","saveTimeout","clearTimeout","setTimeout","saveData","event","preventDefault","fieldArray","field","at","valid","fieldValue","splice","createOrUpdateEngage","updateProgress","answeredQuestions","engageProgress","Math","round","totalQuestions","onFileSelected","inputElement","target","length","file","renderType","determineRenderType","renderedFile","downloadUrl","getFileUrl","type","includes","url","URL","createObjectURL","cleanupObjectUrls","revokeObjectURL","downloadFile","a","document","createElement","href","download","click","handleKeyboardEvent","key","debounceTimer","openModal","then","ModalComponent","open","width","afterClosed","processFiles","fileArray","from","isImage","imageRenderer","startsWith","onload","result","readAsDataURL","autoResize","scrollHeight","clientHeight","style","height","ɵɵdirectiveInject","i1","FormBuilder","i2","EngageService","i3","MatDialog","MatDialogRef","i4","ProgressService","i5","SidebarService","i6","ActivatedRoute","selectors","hostBindings","EngageComponent_HostBindings","rf","ctx","ɵɵresolveDocument","EngageComponent_Template_img_click_33_listener","ɵɵtemplate","EngageComponent_div_36_Template","EngageComponent_Template_img_click_43_listener","EngageComponent_div_46_Template","EngageComponent_Template_img_click_53_listener","EngageComponent_div_56_Template","EngageComponent_div_89_Template","EngageComponent_div_90_Template","ɵɵclassProp","controls"],"sources":["C:\\Users\\j-mai\\Documents\\CBLXToolPFP\\frontend\\src\\app\\pages\\engage\\engage.component.ts","C:\\Users\\j-mai\\Documents\\CBLXToolPFP\\frontend\\src\\app\\pages\\engage\\engage.component.html"],"sourcesContent":["// engage.component.ts\r\nimport { Component, HostListener, OnInit } from '@angular/core';\r\nimport { ProgressService } from '../../services/progress.service';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ModalComponent } from '@app/components/modal/modal.component';\r\nimport { EngageService } from '@app/services/engage.service';\r\nimport { FormArray, FormControl, FormGroup, Validators, FormBuilder} from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { SidebarService } from '../../../app/services/sidebar.service'\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-engage',\r\n  templateUrl: './engage.component.html',\r\n  styleUrls: ['./engage.component.scss'],\r\n})\r\nexport class EngageComponent implements OnInit{\r\n  \r\n  engageData: {\r\n    [key: string]: string[];  // Allow indexing with a string key\r\n    big_idea: string[];\r\n    essential_question: string[];\r\n    challenge: string[];\r\n  } = { big_idea: [], essential_question: [], challenge: [] };\r\n  \r\n  expandedPhase: string | null = null;\r\n  isMenuHidden: boolean = true;  // Explicitly declare boolean type (optional)\r\n  files: File[] = [];  // No changes needed, already correctly typed\r\n  renderedFiles: RenderedFile[] = [];  // Properly typed with the interface defined\r\n  images: { name: string; value: string }[] = [];  // No changes needed, correctly typed\r\n\r\n  engageForm!: FormGroup;  // Initialized in ngOnInit, so non-null assertion is fine\r\n\r\n  private debounceTimer!: ReturnType<typeof setTimeout>;  // Correct type declaration for debounceTimer\r\n  private fileReader: FileReader = new FileReader();  // No changes needed, properly initialized\r\n  private objectUrls: string[] = [];  // Initialized properly to hold URLs\r\n  private saveTimeout!: ReturnType<typeof setTimeout>; // Declare saveTimeout\r\n\r\n\r\n  toggleMenu(): void {\r\n    this.sidebarService.toggleSidebar();  // Delegate toggling to the SidebarService\r\n  }\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private engageService: EngageService,\r\n    public dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<ModalComponent>,\r\n    private progressService: ProgressService,\r\n    private sidebarService: SidebarService,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    // Initialize the form with FormArrays for each phase\r\n    this.engageForm = this.fb.group({\r\n      big_idea: this.fb.array([this.createField()]),\r\n      essential_question: this.fb.array([this.createField()]),\r\n      challenge: this.fb.array([this.createField()]),\r\n    });\r\n  \r\n    // Load the engage data (if needed for pre-existing data)\r\n    this.loadEngageData();\r\n  \r\n    // Handle query parameters to determine the expanded phase\r\n    this.route.queryParamMap.subscribe(params => {\r\n      const phase = params.get('phase');\r\n      if (phase) {\r\n        this.expandedPhase = phase;\r\n      }\r\n    });\r\n  }\r\n  \r\n  isExpanded(phase: string): boolean {\r\n    return this.expandedPhase === phase;\r\n  }\r\n\r\n  togglePhase(phase: string): void {\r\n    if (this.expandedPhase === phase) {\r\n      this.expandedPhase = null; // Collapse if already expanded\r\n    } else {\r\n      this.expandedPhase = phase; // Expand the selected phase\r\n    }\r\n  }\r\n\r\n  loadEngageData(): void {\r\n    this.engageService.getEngage().subscribe({\r\n      next: (response) => {\r\n        if (response.data) {\r\n          this.engageData = response.data;\r\n          this.populateForm();\r\n          console.log('Engage data loaded successfully', this.engageData);\r\n        } else {\r\n          console.error('Unexpected response format:', response);\r\n        }\r\n      },\r\n      error: (error) => console.error('Failed to load engage data:', error),\r\n    });\r\n  }\r\n  \r\n\r\n  populateForm(): void {\r\n    // Destructure engageData with default values\r\n    const { big_idea = '', essential_question = '', challenge = '' } = this.engageData;\r\n  \r\n    // Convert to arrays properly\r\n    this.setFields('big_idea', this.convertToArray(big_idea));\r\n    this.setFields('essential_question', this.convertToArray(essential_question));\r\n    this.setFields('challenge', this.convertToArray(challenge));\r\n  }\r\n  \r\n  // Update this function to handle empty strings correctly\r\n  convertToArray(data: string | string[]): string[] {\r\n    if (Array.isArray(data)) {\r\n      return data;\r\n    } else if (typeof data === 'string') {\r\n      if (data.trim() === '') {\r\n        return ['']; // Return array with an empty string to create a text area\r\n      }\r\n      return data.split(','); // Split by commas or another delimiter if needed\r\n    }\r\n    return []; // Return an empty array if the data is null or not a valid string\r\n  }\r\n  \r\n  \r\n  \r\n  setFields(fieldName: string, fieldData: string[]): void {\r\n    const formArray = this.engageForm.get(fieldName) as FormArray;\r\n    formArray.clear(); // Clear existing FormArray\r\n    \r\n    // Create form controls for each entry in fieldData, including empty strings\r\n    fieldData.forEach(data => {\r\n      formArray.push(this.fb.group({\r\n        content: [data, Validators.required],\r\n      }));\r\n    });\r\n  }\r\n  \r\n\r\n  get bigIdeaFields(): FormArray {\r\n    return this.engageForm.get('big_idea') as FormArray;\r\n  }\r\n\r\n  get essentialQuestionFields(): FormArray {\r\n    return this.engageForm.get('essential_question') as FormArray;\r\n  }\r\n\r\n  get challengeFields(): FormArray {\r\n    return this.engageForm.get('challenge') as FormArray;\r\n  }\r\n\r\n  createField(): FormGroup {\r\n    return this.fb.group({\r\n      content: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  addFields(fieldName: string, count: number): void {\r\n    const control = this.engageForm.get(fieldName) as FormArray;\r\n    \r\n    // Instead of pushing multiple at once, map through and add each individually\r\n    for (let i = 0; i < count; i++) {\r\n      control.push(this.createField());\r\n    }\r\n  }\r\n  \r\n  saveDataWithDebounce(formData: { [key: string]: string[] }): void {\r\n    // Clear the existing timeout if there's one\r\n    if (this.saveTimeout) clearTimeout(this.saveTimeout);\r\n  \r\n    // Set a new timeout to debounce the save operation\r\n    this.saveTimeout = setTimeout(() => {\r\n      this.saveData(formData).subscribe({\r\n        next: (response) => console.log('Data saved successfully', response),\r\n        error: (error) => console.error('Failed to save data:', error),\r\n      });\r\n    }, 500); // Adjust debounce time as needed\r\n  }\r\n  \r\n\r\n  onFormSubmit(event: Event, fieldName: string, index: number): void {\r\n    event.preventDefault();\r\n  \r\n    const fieldArray = this.engageForm.get(fieldName) as FormArray;\r\n    const field = fieldArray.at(index); // Get the specific field by index\r\n  \r\n    if (!field.valid) {\r\n      console.log('Field is empty or invalid. Aborting submission.');\r\n      return;\r\n    }\r\n  \r\n    // Get the new value from the form field\r\n    const fieldValue = field.get('content')?.value.trim();\r\n  \r\n    if (fieldValue) {\r\n      // Ensure engageData is properly updated\r\n      if (Array.isArray(this.engageData[fieldName])) {\r\n        // If engageData[fieldName] is an array, update it accordingly\r\n        this.engageData[fieldName].splice(index, 1, fieldValue);\r\n      } else {\r\n        // Otherwise, assign the new value directly\r\n        this.engageData[fieldName] = fieldValue;\r\n      }\r\n    }\r\n  \r\n    // Save all filled fields with debounce to avoid repeated saves\r\n    this.saveDataWithDebounce(this.engageData);\r\n  \r\n    // Optionally, add a new field after the current one is submitted\r\n    this.addFields(fieldName, 1);\r\n  }\r\n  \r\n\r\n  saveData(formData: any): Observable<any> {\r\n    return this.engageService.createOrUpdateEngage(formData);\r\n  }\r\n\r\n  updateProgress() {\r\n    this.progressService.answeredQuestions++;\r\n    this.progressService.engageProgress = Math.round((this.progressService.answeredQuestions / this.progressService.totalQuestions) * 100);\r\n  }\r\n\r\n  onFileSelected(event: any): void {\r\n    const inputElement = event?.target as HTMLInputElement;\r\n    if (inputElement && inputElement.files) {\r\n      const files: FileList = inputElement.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        const file: File = files[i];\r\n        const renderType = this.determineRenderType(file);\r\n        const renderedFile: RenderedFile = { file, renderType };\r\n        if (renderType === 'pdf') {\r\n          renderedFile.downloadUrl = this.getFileUrl(file);\r\n        }\r\n        this.renderedFiles.push(renderedFile);\r\n      }\r\n    }\r\n  }\r\n\r\n  determineRenderType(file: File): 'image' | 'pdf' | 'other' {\r\n    if (file.type.includes('image')) {\r\n      return 'image';\r\n    } else if (file.type.includes('pdf')) {\r\n      return 'pdf';\r\n    } else {\r\n      return 'other';\r\n    }\r\n  }\r\n\r\n  getFileUrl(file: File): string {\r\n    const url = URL.createObjectURL(file);\r\n    this.objectUrls.push(url); // Track URLs for cleanup\r\n    return url;\r\n  }\r\n  \r\n  cleanupObjectUrls(): void {\r\n    this.objectUrls.forEach(url => URL.revokeObjectURL(url));\r\n    this.objectUrls = [];\r\n  }\r\n  \r\n  downloadFile(file: File) {\r\n    const url = this.getFileUrl(file);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = file.name;\r\n    a.click();\r\n  }\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  handleKeyboardEvent(event: KeyboardEvent) {\r\n    if (event.key === '/') {\r\n      clearTimeout(this.debounceTimer);\r\n      this.debounceTimer = setTimeout(() => this.openModal(), 300);\r\n    }\r\n  }\r\n\r\n\r\n  openModal(): void {\r\n    import('@app/components/modal/modal.component').then(({ ModalComponent }) => {\r\n      const dialogRef = this.dialog.open(ModalComponent, {\r\n        width: '250px',\r\n      });\r\n  \r\n      dialogRef.afterClosed().subscribe((files: FileList | null) => {\r\n        if (files && files.length > 0) {\r\n          this.processFiles(files); // Delegate file processing to a helper method\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  // Helper method to process files\r\n  private processFiles(files: FileList): void {\r\n    const fileArray = Array.from(files); // Convert FileList to an array once\r\n\r\n    fileArray.forEach(file => {\r\n      if (this.isImage(file)) {\r\n        this.imageRenderer(file); // Process image files\r\n      } else {\r\n        this.files.push(file); // Store non-image files in this.files\r\n      }\r\n    });\r\n\r\n    // Optional: Log the processed files or remove this in production\r\n    console.log('Non-image files:', this.files);\r\n  }\r\n\r\n  // Check if the file is an image based on its type\r\n  private isImage(file: File): boolean {\r\n    return file.type.startsWith('image/');\r\n  }\r\n\r\n // Image rendering method\r\n  private imageRenderer(file: File): void {\r\n    this.fileReader.onload = () => {\r\n      this.images.push({\r\n        name: file.name,\r\n        value: this.fileReader.result as string // Store image as base64 string\r\n      });\r\n    };\r\n    this.fileReader.readAsDataURL(file); // Read the image file as a Data URL\r\n  }\r\n  \r\n  autoResize(event: any) {\r\n    const target = event.target;\r\n    if (target.scrollHeight !== target.clientHeight) {\r\n      target.style.height = 'auto';\r\n      target.style.height = target.scrollHeight + 'px';\r\n    }\r\n  }\r\n\r\n  \r\n}\r\n\r\ninterface RenderedFile {\r\n  file: File;\r\n  renderType: 'image' | 'pdf' | 'other';\r\n  downloadUrl?: string;\r\n}\r\n\r\n\r\n","<header>\r\n  <div class=\"tree\">\r\n    <!-- <app-togglemenu class=\"toggle-menu\"></app-togglemenu> -->\r\n    <a routerLink=\"/projeto\" class=\"subir\">Projetos</a> > <a routerLink=\"/jornada\" class=\"subir\">Projeto CBL</a> > <b> Engage</b>\r\n  </div>\r\n  <div class=\"navigation\">\r\n    <ul>\r\n      <li class=\"nav-engage-select\">Engage</li>\r\n      <li><a routerLink=\"/investigate\" class=\"nav-acessar-investigate\">Investigate</a></li>\r\n      <li><a routerLink=\"/act\" class=\"nav-acessar-act\">Act</a></li>\r\n    </ul>\r\n  </div>\r\n</header>\r\n<app-menu></app-menu>\r\n\r\n<body>\r\n\r\n  <div class=\"main-content\">\r\n    <div class=\"pagination\">\r\n      <div class=\"current-block\">\r\n\r\n      </div>\r\n      <div class=\"new-block\">\r\n        +\r\n      </div>\r\n    </div>\r\n    \r\n    <form [formGroup]=\"engageForm\">\r\n      <div formArrayName=\"big_idea\" class=\"step-container\" [class.expanded]=\"isExpanded('big_idea')\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/big_idea.png\" alt=\"lampada\">\r\n          Big Idea\r\n          <div class=\"phase-controls\">\r\n            <img src=\"../../../assets/images/expand.png\" class=\"toggle-symbol\" (click)=\"togglePhase('big_idea')\">\r\n          </div>\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of bigIdeaFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'big_idea', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div formArrayName=\"essential_question\" class=\"step-container\" [class.expanded]=\"isExpanded('essential_question')\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/essential_question.png\" alt=\"pensando\">\r\n          Essential Question\r\n          <div class=\"phase-controls\">\r\n            <img src=\"../../../assets/images/expand.png\" class=\"toggle-symbol\" (click)=\"togglePhase('essential_question')\">\r\n          </div>\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of essentialQuestionFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'essential_question', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div formArrayName=\"challenge\" class=\"step-container\" [class.expanded]=\"isExpanded('challenge')\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/challenge.png\" alt=\"alvo\">\r\n          Challenge\r\n          <div class=\"phase-controls\">\r\n            <img src=\"../../../assets/images/expand.png\" class=\"toggle-symbol\" (click)=\"togglePhase('challenge')\">\r\n          </div>\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of challengeFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'challenge', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    \r\n    <!-- Versão safe -->\r\n    <!-- <form [formGroup]=\"engageForm\">\r\n      <div formArrayName=\"big_idea\" class=\"step-container\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/big_idea.png\" alt=\"lampada\">\r\n          Big Idea\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of bigIdeaFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'big_idea', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div formArrayName=\"essential_question\" class=\"step-container\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/essential_question.png\" alt=\"pensando\">\r\n          Essential Question\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of essentialQuestionFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'essential_question', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div formArrayName=\"challenge\" class=\"step-container\">\r\n        <label class=\"align-vertical\">\r\n          <img src=\"../../../assets/images/challenge.png\" alt=\"alvo\">\r\n          Challenge\r\n        </label><br><br>\r\n        <div *ngFor=\"let field of challengeFields.controls; let i = index\" [formGroupName]=\"i\">\r\n          <textarea class=\"textos\" formControlName=\"content\" (keydown.enter)=\"onFormSubmit($event, 'challenge', i)\" type=\"text\"></textarea>\r\n        </div>\r\n      </div>\r\n    </form> -->\r\n  </div>\r\n\r\n\r\n  <div class=\"visual-tab\">\r\n    <ul>\r\n      <li>\r\n        <div class=\"tab-selected\">\r\n          <img src=\"../../../assets/images/conteudos.png\">\r\n          <br>\r\n          Conteúdos\r\n        </div>\r\n      </li>\r\n      <li>\r\n        <div>\r\n          <img src=\"../../../assets/images/templates.png\">\r\n          <br>\r\n          Templates\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n    <div class=\"tab-search\">\r\n      <input placeholder=\"Busca\">\r\n      <img src=\"../../../assets/images/lupa.png\">\r\n    \r\n    </div>\r\n    \r\n    <div class=\"content-grid\">\r\n      <div>\r\n        <img src=\"../../../assets/images/textos.png\">\r\n        <br>\r\n        Texto\r\n      </div>\r\n      <div>\r\n        <img src=\"../../../assets/images/imagens.png\">\r\n        <br>\r\n        Imagem\r\n      </div>\r\n      <div>\r\n        <img src=\"../../../assets/images/tabelas.png\">\r\n        <br>\r\n        Tabela\r\n      </div>\r\n      <div>\r\n        <img src=\"../../../assets/images/arquivos.png\">\r\n        <br>\r\n        Arquivo\r\n      </div>        \r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"archives\" *ngFor=\"let file of files\">\r\n    <p class=\"title-archive\">Arquivo: {{ file.name }}</p>\r\n    <!-- Uncomment this line to enable file download functionality -->\r\n    <!-- <a [href]=\"getFileUrl(file)\" (click)=\"downloadFile(file)\"><button class=\"button-archive\" type=\"button\">Download</button></a> -->\r\n  </div>\r\n\r\n  <div class=\"images\" *ngFor=\"let image of images\">\r\n    <img [src]=\"image.value\" alt=\"Uploaded Image\">\r\n  </div>\r\n\r\n  <!-- <a routerLink=\"/investigate\"><button class=\"investigate\" type=\"button\"></button></a> -->\r\n</body>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
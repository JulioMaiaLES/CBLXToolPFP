<div class="visual-tab" [class.collapsed]="isCollapsed">
  <!-- Expand Icon (≡) -->
  <div *ngIf="isCollapsed" class="expand-icon" (click)="toggleTab()">≡</div>

  <!-- Close Icon (X) -->
  <div *ngIf="!isCollapsed" class="close-icon" (click)="toggleTab()">X</div>

  <!-- Expanded Tab Content -->
  <div *ngIf="!isCollapsed" class="tab-search">
    <div class="search-field">
      <input
        type="text"
        matInput
        [formControl]="searchControl"
        placeholder="Busca"
      />
    </div>
    <img src="../../../assets/images/lupa.png" alt="Search Icon" />
  </div>

  <!-- Expanded Content -->
  <div
    *ngIf="!isCollapsed"
    class="filtered-items"
    cdkDropList
    id="tab-drag-source"
    [cdkDropListConnectedTo]="['drop-zone']"
  >
    <div
      *ngFor="let item of filteredItems | async"
      cdkDrag
      [cdkDragData]="item"
      class="draggable-item"
    >
      <img
        [src]="'../../../assets/images/' + item.icon + '.png'"
        alt="{{ item.label }}"
      />
      <p>{{ item.label }}</p>
    </div>
  </div>

  <!-- Collapsed Content -->
  <div
    *ngIf="isCollapsed"
    class="collapsed-content"
    cdkDropList
    id="tab-drag-source-collapsed"
    [cdkDropListConnectedTo]="['drop-zone']"
  >
    <div
      *ngFor="let item of filteredItems | async"
      cdkDrag
      [cdkDragData]="item"
      class="collapsed-item draggable-item"
    >
      <img
        [src]="'../../../assets/images/' + item.icon + '.png'"
        alt="{{ item.label }}"
      />
      <p>{{ item.label }}</p>
    </div>
  </div>
</div>
